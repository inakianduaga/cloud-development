Frontend proxy 
==============

> Nginx proxy that redirects all traffic to user docker containers based on hostname & generated configuration 
> All http traffic is redirected to https  

# Matching users/app by hostname

Hostnames should have the form <username>.<edit|view>.baseHostName, from where nginx detects the matching user/app. This
user/app combination will determine the proxying port to which the request should be sent.

## User list

This container should be provided a list of available user ids through environment variables of the form 

`USER_<XXX>=<USER_ID>` 

for example,

```sh
USER_CLARK_KENT=1
USER_BRUCE_WAYNE=2
...
```

# Proxy rules

All proxy rules are pre-generated by a script and nginx simply imports the rules into the base location. See the
[proxy rules generator script](`../scripts/nginx_proxy_rules.sh`).
 
